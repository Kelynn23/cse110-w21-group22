<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: settings.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: settings.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file checks for user input in the settings and makes changes based on it
 * @author group 22
 */

// variables for the modal and open/close buttons

/**
 * The settings box
 * @type {element}
 */
const modal = document.getElementById("settingsContainer");
/**
 * Setting button
 * @type {element}
 */
const settingsBtn = document.getElementById("settingsBtn");
/**
 * Close setting button
 * @type {element}
 */
const closeBtn = document.getElementsByClassName("close")[0];
/**
 * Form for setting inputs
 * @type {element}
 */
const settingsForm = document.getElementById("time-settings");
/**
 * Save settings button
 * @type {element}
 */
const submitSettings = document.getElementById("settings-submit");

// open the modal when user clicks on settings button
settingsBtn.onclick = displayModal;

/**
 * open the modal when user clicks on settings button
 */
function displayModal() {
  modal.style.display = "block";
}

// close the modal when the close button is clicked
closeBtn.onclick = function() {
  submitSettings.click();
}



// close the modal when the user clicks outside the settings box
window.onclick = function(event) {
  if (event.target == modal) {
    submitSettings.click();
  }
}

// only allow user to close settings if all inputs are valid
// update time values when settings are closed
settingsForm.addEventListener("submit", function(event) {
  event.preventDefault();
  if (checkTimeInputs()) {
    modal.style.display = "none";
    updateTimes();
  }
});




/**
 * Checks the user input to see if it is valid
 * @return {boolean} - true if valid, false otherwise
 */
function checkTimeInputs() {
  let inputs = settingsForm.querySelectorAll("input[type='number']");
  for (let i = 0; i &lt; inputs.length; i++) {
    if (!inputs[i].checkValidity()) {
      return false;
    }
  }
  return true;
}


/**
 * update the time based on user input
 */
function updateTimes() {
  // TODO: MULTIPLY THESE VALUES BY 60 TO GET THE ACTUAL TIME
  focusTime = document.getElementById('focus-time').value; 
  shortBreak = document.getElementById('short-break').value;
  longBreak = document.getElementById('long-break').value;
  pomoMode();
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#autoStartSetting">autoStartSetting</a></li><li><a href="global.html#checkTimeInputs">checkTimeInputs</a></li><li><a href="global.html#closeBtn">closeBtn</a></li><li><a href="global.html#DEFAULT_POMO_TIME">DEFAULT_POMO_TIME</a></li><li><a href="global.html#displayModal">displayModal</a></li><li><a href="global.html#displayTime">displayTime</a></li><li><a href="global.html#displayTimer">displayTimer</a></li><li><a href="global.html#displayTitle">displayTitle</a></li><li><a href="global.html#focusTime">focusTime</a></li><li><a href="global.html#LONG_BREAK">LONG_BREAK</a></li><li><a href="global.html#longBreak">longBreak</a></li><li><a href="global.html#modal">modal</a></li><li><a href="global.html#mode">mode</a></li><li><a href="global.html#modeDisplay">modeDisplay</a></li><li><a href="global.html#modeStr">modeStr</a></li><li><a href="global.html#NOT_STARTED">NOT_STARTED</a></li><li><a href="global.html#numPomos">numPomos</a></li><li><a href="global.html#numPomosToLongBreak">numPomosToLongBreak</a></li><li><a href="global.html#pomoEndNotif">pomoEndNotif</a></li><li><a href="global.html#pomoMode">pomoMode</a></li><li><a href="global.html#pomoTransitions">pomoTransitions</a></li><li><a href="global.html#resetTimer">resetTimer</a></li><li><a href="global.html#RUNNING">RUNNING</a></li><li><a href="global.html#settingsBtn">settingsBtn</a></li><li><a href="global.html#settingsForm">settingsForm</a></li><li><a href="global.html#SHORT_BREAK">SHORT_BREAK</a></li><li><a href="global.html#shortBreak">shortBreak</a></li><li><a href="global.html#startButton">startButton</a></li><li><a href="global.html#startOrReset">startOrReset</a></li><li><a href="global.html#startTime">startTime</a></li><li><a href="global.html#startTimer">startTimer</a></li><li><a href="global.html#submitSettings">submitSettings</a></li><li><a href="global.html#timer">timer</a></li><li><a href="global.html#timerInterval">timerInterval</a></li><li><a href="global.html#timerSound">timerSound</a></li><li><a href="global.html#timerStatus">timerStatus</a></li><li><a href="global.html#updateTimes">updateTimes</a></li><li><a href="global.html#WORK">WORK</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sun Feb 28 2021 20:28:30 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
